<!DOCTYPE html>
<html lang="en">

<head>
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <meta charset="UTF-8">
    <title>Pong</title>
</head>

<body>
    <h1>Pong</h1>
    <ul id="userList"></ul>
    <div id="noUsersMessage" style="display: none;">No users in database</div>
    <div id="errorContainer" style="display: none;"></div>

    <script src="js/users_service/users_service.js"></script>
    <script>
        function showUsers(data) {
            const userList = document.getElementById('userList');
            const noUsersMessage = document.getElementById('noUsersMessage');

            userList.innerHTML = '';
            if (data.users.length === 0) {
                noUsersMessage.style.display = 'block';
            } else {
                noUsersMessage.style.display = 'none';

                data.users.forEach(user => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `Username: ${user.username}, Email: ${user.email}, Password: ${user.password}`;
                    userList.appendChild(listItem);
                });
            }
        }

        function showErrorUsers(error) {
            const errorContainer = document.getElementById('errorContainer');
            errorContainer.style.display = 'block';

            const errorMessage = error.message || error.error || 'An unexpected error occurred';
            errorContainer.textContent = `Error: ${errorMessage}`;
        }

        getUsers(showUsers, showErrorUsers);
    </script>
    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
</body>

</html>