<div class="pong_home_parent_container">
    <div class="pong_home_title">
        <span data-i18n="pong"></span>
    </div>
    <div class="pong_home_content">
        <div class="pong_home_sidebar_card">
            <div class="pong_home_sidebar_leaderboard pong_home_sidebar_button" onclick="navigate('/pong/leaderboard')">
                <i class="fa-solid fa-trophy"></i>
                <span data-i18n="pong_leaderboard_button"> Leaderboard</span>
            </div>
            <div class="pong_home_sidebar_rules pong_home_sidebar_button" onclick="displayRulesPopup()">
                <i class="fa-solid fa-book"></i>
                <span data-i18n="pong_how_to_play"></span>
            </div>
            <div class="pong_home_sidebar_settings pong_home_sidebar_button" onclick="navigate('/settings')">
                <i class="fa-solid fa-gear"></i>
                <span data-i18n="pong_home_settings"></span>
            </div>
        </div>
        <div class="pong_home_top_cards">
            <div class="pong_home_types_container">
                <div class="pong_home_type_item">
                    <span class="pong_home_item_title" data-i18n="pong_home_local_title"></span>
                    <hr>
                    <span data-i18n="pong_home_local_desc"></span>
                    <span class="pong_home_play_button" data-i18n="play_button" onclick="createLocalGame()"></span>
                </div>
                <div class="pong_home_type_item">
                    <span class="pong_home_item_title" data-i18n="pong_home_1v1_title"></span>
                    <hr>
                    <span data-i18n="pong_home_1v1_desc"></span>
                    <span class="pong_home_play_button" data-i18n="play_button" onclick="joinMatchmakingQueue('1v1')"></span>
                </div>
                <div class="pong_home_type_item">
                    <span class="pong_home_item_title" data-i18n="pong_home_arcade_title"></span>
                    <hr>
                    <span data-i18n="pong_home_arcade_desc"></span>
                    <span class="pong_home_play_button" data-i18n="play_button" onclick="joinMatchmakingQueue('arcade')"></span>
                </div>
                <div class="pong_home_type_item">
                    <span class="pong_home_item_title" data-i18n="tournaments"></span>
                    <hr>
                    <span data-i18n="pong_home_tournament_desc"></span>
                    <span class="pong_home_play_button" data-i18n="play_button" onclick="navigate('/tournament')"></span>
                </div>
            </div>
            
        </div>
        <div class="pong_home_history" onclick="navigate('/pong/history')">
            <span data-i18n="pong_home_user_history"></span>
        </div>
    </div>
    
    <div class="pong_home_rules_popup_base" id="pong_home_rules_popup">
        <div class="pong_home_rules_titles">
            <h1  data-i18n="pong_how_to_play"></h1>
            <span onclick="closeRulesPopup()" class="pong_home_rules_close_icon"><i class="fa-solid fa-xmark"></i></span>
        </div>
        <hr>
        <div data-i18n="pong_how_to_play_text"></div>
    </div>
</div>

<script>
    function displayRulesPopup()
    {
        blackScreen = document.getElementById("black_screen_filter");
        blackScreen.style.opacity = "0.5";
        blackScreen.classList.add("black_screen_filter");

        popup = document.getElementById("pong_home_rules_popup");
        popup.style.top = "45%";
        popup.style.opacity = "1";
        popup.style.display = "block";
        popup.classList.add("pong_home_rules_popup");
    }

    function closeRulesPopup()
    {
        blackScreen = document.getElementById("black_screen_filter");
        blackScreen.style.opacity = "0";

        popup = document.getElementById("pong_home_rules_popup");
        popup.style.top = "40%";
        popup.style.opacity = "0%";
        setTimeout(() => {
            blackScreen.classList.remove("black_screen_filter");
            popup.style.display = "none";
            if (popup.style.opacity != "0%") return ;
            popup.classList.remove("pong_home_rules_popup");
        }, 500);
    }

    function joinMatchmakingQueue(gameType)
    {
        navigate(`/pong/matchmaking?game_type=${gameType}`);
    }
</script>